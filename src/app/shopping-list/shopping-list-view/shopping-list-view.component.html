<div *ngIf="isLoading">
  <app-custom-loading></app-custom-loading>
</div>

<div *ngIf="!isLoading">
  <div class="flex flex-align-center">
    <ic-icon
      [routerLink]="['', 'app', 'menu']"
      mat-ripple
      class="font-size-16rem ml-1rem mt-1rem"
      icon="arrowBackUp"
    ></ic-icon>
  </div>
  <div class="wrapper-flex-center font-size-17rem">Shopping Lists</div>
  <div class="wrapper-flex-center mtb-1rem">
    <div
      (click)="onAddNewList()"
      mat-ripple
      class="btn border-radius-20 violet flex"
    >
      <ic-icon class="font-size-15rem mr-1rem" icon="plusLine"></ic-icon>
      Create new
    </div>
  </div>
  <div class="mb-2rem" *ngIf="shoppingLists.length > 0">
    <div
      *ngFor="let list of shoppingLists; let i = index"
      class="wrapper-flex-center"
    >
      <!-- (click)="onListClick(i)" -->
      <div mat-ripple class="box mt-1rem">
        <div class="flex flex-space-between">
          <div
            (click)="deleteClick(i); $event.stopPropagation()"
            mat-ripple
            [matRippleCentered]="true"
            [matRippleRadius]="12"
            class="btn bttn-icon bttn-icon--red p-1rem ml-1rem mt-05rem"
          >
            <ic-icon class="icon" icon="trashOutline"></ic-icon>
          </div>
          <div class="box__title mt-05rem wrapper-flex-center width-50">
            <div class="wrapper-flex-center text-center " *ngIf="!(editMode == i)">
              {{ list.name }}
              <ic-icon
                (click)="runEditMode(i); $event.stopPropagation()"
                class="ml-05rem"
                icon="editIcon"
              ></ic-icon>
            </div>
            <div *ngIf="editMode == i" class="wrapper-flex-center">
              <input
                #inputName
                minlength="1"
                [(ngModel)]="list.name"
                (click)="$event.stopPropagation()"
                class="box__title wrapper-flex-center custom-input"
              />
              <ic-icon
                (click)="exitEditMode(); $event.stopPropagation()"
                class="ml-1rem"
                icon="confirmIcon"
              ></ic-icon>
            </div>
          </div>
          <div
            (click)="onListClick(i); $event.stopPropagation()"
            mat-ripple
            [matRippleCentered]="true"
            [matRippleRadius]="12"
            class="btn bttn-icon bttn-icon--violet p-1rem mt-05rem mr-1rem"
          >
            <ic-icon class="icon" icon="doubleArrowRight"></ic-icon>
          </div>
        </div>

        <div
          class="flex flex-align-center flex-column box__description mt-15rem"
        >
          <div class="text-left width-100 ml-1rem">Created By: {{list.createdBy.name}}</div>
          <div class="text-left width-100 ml-1rem">Left: 4 items on list</div>
        </div>

        <!-- <div class="flex flex-space-between mtb-1rem">
          <div
            (click)="onTest(); $event.stopPropagation()"
            mat-ripple
            [matRippleCentered]="true"
            [matRippleRadius]="20"
            class="btn bttn-icon bttn-icon--red p-1rem mr-05rem rotate"
          >
            <ic-icon class="icon" icon="trashOutline"></ic-icon>
          </div>
          <div
            (click)="onEdit(i); $event.stopPropagation()"
            mat-ripple
            [matRippleCentered]="true"
            [matRippleRadius]="20"
            class="btn bttn-icon bttn-icon--violet p-1rem mr-1rem rotate"
          >
            <ic-icon class="icon" icon="editIcon"></ic-icon>
          </div>
        </div> -->
      </div>
    </div>
  </div>
</div>
